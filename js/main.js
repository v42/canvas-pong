(function(){for(var e=0,n=["webkit","moz"],t=0;n.length>t&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[n[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[t]+"CancelAnimationFrame"]||window[n[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),i=Math.max(0,16-(t-e)),o=window.setTimeout(function(){n(t+i)},i);return e=t+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})})(),function(){var e=function(){var e,n,t,i,o,w,d,s=800,a=600,c=!1,i=function(){this.x=0,this.y=a/2-30,this.w=10,this.h=60,this.up=!1,this.down=!1,this.speed=10,this.points=0},d={x:s/2-5,y:a/2-5,w:10,h:10,speedX:3,speedY:3,reset:function(e){this.x=s/2-5,this.y=a/2-5,this.speedX=2==e?-3:3,this.speedY=3}},u=function(){var c,u;bgc=document.getElementById("background"),u=document.getElementById("game"),c=document.getElementById("gui"),bgc.width=u.width=c.width=s,bgc.height=u.height=c.height=a,e=bgc.getContext("2d"),t=u.getContext("2d"),n=c.getContext("2d"),o=new i,o.x=10,o.w2=o.w/2,o.h2=o.h/2,w=new i,w.x=s-w.w-10,w.w2=w.w/2,w.h2=w.h/2,d.w2=d.w/2,d.h2=d.h/2,p(),h(),y(),window.setTimeout(function(){},10),r()},r=function(){m(),l(),window.requestAnimationFrame(r)},h=function(){e.fillStyle="rgb(255,255,255)";for(var n=0;28>n;n++)e.fillRect(397,21*n+10,6,15)},p=function(){window.onkeydown=function(e){var e=e||window.event;switch(e.keyCode){case 87:o.up=!0;break;case 83:o.down=!0;break;case 38:w.up=!0;break;case 40:w.down=!0}},window.onkeyup=function(e){var e=e||window.event;switch(e.keyCode){case 87:o.up=!1;break;case 83:o.down=!1;break;case 38:w.up=!1;break;case 40:w.down=!1}}},m=function(){(o.up||o.down)&&(o.up&&!o.down&&o.y>=10+o.speed&&(o.y-=o.speed),o.down&&!o.up&&o.y<=a-o.h-o.speed-10&&(o.y+=o.speed)),(w.up||w.down)&&(w.up&&!w.down&&w.y>=10+w.speed&&(w.y-=w.speed),w.down&&!w.up&&w.y<=a-w.h-w.speed-10&&(w.y+=w.speed)),(10>=d.y||d.y>=a-10-d.h)&&(d.speedY=-d.speedY),c||(d.x+=d.speedX,d.y+=d.speedY,0>d.speedX&&d.x<=o.x+o.w&&d.x>=o.x&&d.y>=o.y&&d.y<=o.y+o.h&&(d.speedX=-d.speedX+.5),d.speedX>0&&d.x+d.w>=w.x&&d.x+d.w<=w.x+w.w&&d.y>=w.y&&d.y<=w.y+w.h&&(d.speedX=-d.speedX-.5)),d.x>=s+d.w&&(o.points++,d.reset(),y()),d.x<=0-d.w&&(w.points++,d.reset(2),y())},l=function(){t.clearRect(0,0,s,a),t.fillStyle="rgb(255,255,255)",t.fillRect(d.x,d.y,d.w,d.h),t.fillRect(o.x,o.y,o.w,o.h),t.fillRect(w.x,w.y,w.w,w.h)},y=function(e){n.clearRect(0,0,s,a),n.fillStyle="rgb(255,255,255)",n.font="bold 60px Rationale, sans-serif",n.fillText(o.points,s/2-120,50),n.fillText(w.points,s/2+100,50),e&&(c=!0,window.setTimeout(function(){c=!1},2e3))};return{init:u}}();e.init()}();